## **Обзор курса «Алгоритмы и структуры данных»**

**Направление:** «Информационные системы и технологии»
**Преподаватель:** Крюкова Яна Сергеевна
*Кандидат технических наук, доцент кафедры ИСТ*

**Формат курса:**
* **Лекции:** 1 раз в 2 недели
* **Практические занятия:** 1 раз в неделю
* **Форма итогового контроля:** Зачёт

**Структура курса (8 лекций):**
1. **Введение в C#. Базовый синтаксис, типы данных, управляющие конструкции**
2. **C#: Методы, массивы, основы ООП. Значимые и ссылочные типы. String и StringBuilder**
3. **Анализ сложности алгоритмов. Простые структуры данных: списки (List<T>)**
4. **Алгоритмы сортировки и поиска** (Quicksort, Mergesort, бинарный поиск)
5. **Стеки, очереди, хеш-таблицы** (Stack<T>, Queue<T>, Dictionary, HashSet)
6. **Деревья. Бинарные деревья поиска (BST)**
7. **Графы: представление, обход, алгоритмы** (DFS, BFS)
8. **Жадные алгоритмы и динамическое программирование (введение)**

---

## **Полезные ресурсы**

**Официальная документация:**
* [docs.microsoft.com/dotnet/csharp](https://docs.microsoft.com/dotnet/csharp) – документация C#
* [Microsoft Learn](https://learn.microsoft.com) – бесплатные интерактивные курсы

**Русскоязычные ресурсы:**
* [metanit.com](https://metanit.com/sharp/) – учебник по C# и .NET
* [Stepik.org](https://stepik.org/course/Введение-в-C-8918) – курсы по C#

**Платформы для практики:**
* [LeetCode](https://leetcode.com) – задачи на алгоритмы
* [Codewars](https://codewars.com) – задачи по программированию

---

## **Тема и цели**

**Тема:** Введение в C#. Базовый синтаксис
**Цель лекции:**
* Познакомиться с языком C# и платформой .NET
* Освоить минимальный синтаксис для написания программ
* Научиться использовать переменные, операторы и циклы

**Практический итог:**
К концу лекции вы сможете писать простые консольные программы.

---

## **Почему C#? Кратко о .NET**

**C# (Си-шарп):**
* Современный объектно-ориентированный язык
* Разработан Microsoft
* Активно используется в индустрии

**.NET (дот-нет):**
* Платформа для выполнения программ на C#
* Предоставляет среду выполнения и богатые библиотеки

**Области применения C#:**
1. Backend-сервисы и веб-приложения (ASP.NET Core)
2. Десктопные приложения (Windows)
3. Мобильная и игровая разработка (Xamarin, Unity)

---

## **Структура первой программы**

```csharp
using System;

namespace AlgorithmsCourse
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("Hello, World!");
        }
    }
}
```

**Ключевые элементы:**
* `using System;` – подключение библиотеки
* `static void Main(...)` – **главный метод**, старт программы
* `Console.WriteLine(...);` – выводит текст в консоль
* `{ }` – фигурные скобки обозначают блоки кода

---

## **Переменные и типы данных**

**Переменная** – ячейка памяти для хранения данных.
**Тип данных** определяет, что можно хранить.

**Основные типы данных:**

| Тип C# | Описание | Пример значения |
|--------|----------|-----------------|
| `int` | Целое число | `42`, `-7`, `0` |
| `double` | Число с дробной частью | `3.14`, `-2.5` |
| `bool` | Логическое значение | `true`, `false` |
| `string` | Текст (строка) | `"Привет"`, `"C#"` |
| `char` | Один символ | `'A'`, `'?'` |

---

## **Объявление переменных. Ключевое слово `var`**

**Объявление и инициализация:**
```csharp
int age = 25;
double price = 99.95;
bool isActive = true;
string name = "Анна";
char grade = 'A';
```

**Использование `var`:**
* Позволяет компилятору самому определить тип
* Удобно для сокращения записи
* Тип фиксируется при первой инициализации

```csharp
var count = 10;      // count будет int
var message = "Ошибка!"; // message будет string
var average = 4.5;   // average будет double
```

---

## **Явное и неявное приведение типов**

**Неявное приведение (implicit):** Автоматическое, когда нет потери данных.
```csharp
int smallNumber = 100;
double bigNumber = smallNumber; // Автоматически: int → double
// smallNumber = 100, bigNumber = 100.0
```

**Явное приведение (explicit):** Требует указания типа, возможна потеря данных.
```csharp
double price = 9.95;
int roundedPrice = (int)price; // Явное приведение: double → int
// price = 9.95, roundedPrice = 9 (дробная часть отбрасывается!)
```

---

## **Класс `Convert` для преобразования типов**

**`Convert`** – статический класс для безопасного преобразования между типами.

```csharp
string text = "123";
int number = Convert.ToInt32(text); // text → int

double value = 45.67;
int integerValue = Convert.ToInt32(value); // value → int (округление)

bool flag = true;
int boolAsInt = Convert.ToInt32(flag); // true → 1, false → 0
```

**Основные методы класса `Convert`:**
* `Convert.ToInt32(string)` – строка в int
* `Convert.ToDouble(string)` – строка в double
* `Convert.ToString(int)` – int в строку
* `Convert.ToBoolean(string)` – строка в bool

**Отличие от `Parse()`:**
`Convert` не выбрасывает исключение для `null`, а возвращает значение по умолчанию.

```csharp
string input = null;
int result1 = Convert.ToInt32(input); // result1 = 0
int result2 = int.Parse(input); // ОШИБКА!
```

---

## **Арифметические операции**

**Базовые операции:**
```csharp
int a = 10 + 5;   // Сложение: 15
int b = 10 - 5;   // Вычитание: 5
int c = 10 * 5;   // Умножение: 50
int d = 10 / 3;   // Деление целочисленное: 3
int e = 10 % 3;   // Остаток от деления: 1
```

**Сокращённые операции:**

| Операция | Пример | Эквивалент | Описание |
|----------|--------|------------|----------|
| Инкремент | `x++` | `x = x + 1` | Постфиксная форма |
|          | `++x` | `x = x + 1` | Префиксная форма |
| Декремент | `x--` | `x = x - 1` | Постфиксная форма |
|          | `--x` | `x = x - 1` | Префиксная форма |
| Сложение | `x += 5` | `x = x + 5` | Увеличивает на 5 |
| Вычитание | `x -= 3` | `x = x - 3` | Уменьшает на 3 |

**Важно:**
Для деления с дробной частью нужен тип `double`:
```csharp
double result = 10.0 / 3; // Результат: ~3.333...
```

---

## **Разница между ++x и x++**

**Постфиксная форма `x++`:**
Сначала используется значение, потом увеличивается.

**Префиксная форма `++x`:**
Сначала увеличивается, потом используется значение.

```csharp
int a = 5;
int b = a++; // b = 5, потом a = 6

int c = 5;
int d = ++c; // c = 6, потом d = 6

Console.WriteLine($"a={a}, b={b}, c={c}, d={d}");
// Вывод: a=6, b=5, c=6, d=6
```

---

## **Ввод и вывод данных. Интерполяция строк**

**Вывод:** `Console.WriteLine(...)` – выводит текст и переводит курсор на новую строку.

**Ввод:** `Console.ReadLine()` – читает строку, введённую пользователем.

**Пример:**
```csharp
Console.Write("Введите имя: "); // Без перевода строки
string name = Console.ReadLine();
Console.WriteLine($"Привет, {name}!");
```

**Интерполяция строк:**
Символ `$` перед строкой позволяет вставлять значения переменных прямо в текст внутри `{ }`.

```csharp
string product = "яблоки";
int quantity = 5;
Console.WriteLine($"Купите {quantity} кг {product}.");
```

---

## **Условный оператор `if-else`. Фигурные скобки**

```csharp
int number = 10;

if (number > 0)
{
    Console.WriteLine("Число положительное.");
    Console.WriteLine("Это сообщение тоже в блоке if.");
}
// else НЕ обязателен!
```

**Фигурные скобки `{ }`:**
* Обозначают **блок кода**, который выполняется при истинности условия
* Если после `if` только **одна** команда – скобки можно опустить
* **Рекомендация:** Всегда использовать скобки для ясности

```csharp
// Короткая запись (без скобок) - допустима
if (number > 0)
    Console.WriteLine("Положительное");
```

---

## **Типовые ошибки в условных операторах**

**Ошибка 1:** Точка с запятой после условия
```csharp
if (number > 0); // ОШИБКА! Точка с запятой завершает оператор
{
    Console.WriteLine("Положительное");
}
// Выполнится ВСЕГДА, независимо от условия
```

**Правильно:**
```csharp
if (number > 0)  // Без точки с запятой!
{
    Console.WriteLine("Положительное");
}
```

**Ошибка 2:** Присваивание вместо сравнения
```csharp
if (x = 5) // ОШИБКА! Присваивание, а не сравнение
{
    // ...
}
```

**Правильно:**
```csharp
if (x == 5) // Два знака равно!
{
    // ...
}
```

**Ошибка 3:** Сложные условия без скобок
```csharp
if (a > b && b > c || c == 0) // Неясный приоритет
```

**Лучше:**
```csharp
if ((a > b && b > c) || c == 0) // Явная группировка
```

**Ошибка 4:** Проверка диапазона неправильно
```csharp
if (0 < x < 10) // ОШИБКА! Так нельзя в C#
```

**Правильно:**
```csharp
if (x > 0 && x < 10) // Два отдельных условия
```

---

## **Метод `TryParse` для безопасного преобразования**

**Проблема:** `int.Parse()` вызовет ошибку, если строка не содержит число.

**Решение:** `int.TryParse()` – безопасный метод преобразования.

```csharp
string input = "123";
int result;
bool success = int.TryParse(input, out result);
// success = true, result = 123

input = "abc";
success = int.TryParse(input, out result);
// success = false, result = 0
```

**Синтаксис:**
`bool имя_переменной = int.TryParse(строка, out int переменная);`

* Возвращает `true`, если преобразование удалось
* Результат записывается в переменную через `out`

---

## **Пример использования `TryParse` с условным оператором**

```csharp
Console.Write("Введите число: ");
string input = Console.ReadLine();

// Пробуем преобразовать строку в число прямо в условии if
if (int.TryParse(input, out int number))
{
    if (number > 0)
    {
        Console.WriteLine("Число положительное.");
    }
    else if (number < 0)
    {
        Console.WriteLine("Число отрицательное.");
    }
    else
    {
        Console.WriteLine("Число равно нулю.");
    }
}
else
{
    Console.WriteLine("Это не число!");
}
```

**Особенности этого подхода:**
* `int.TryParse(input, out int number)` – объявление переменной `number` прямо в вызове метода
* Если преобразование удалось, переменная `number` доступна внутри блока `if`
* Экономит одну строку кода и делает его чище

---

## **Типовые ошибки при работе с вводом/выводом**

**Ошибка 1:** Забыли преобразовать строку в число
```csharp
Console.Write("Введите возраст: ");
string input = Console.ReadLine();
int age = input; // ОШИБКА! string нельзя присвоить int
```

**Правильно:**
```csharp
int age = int.Parse(input); // или Convert.ToInt32(input)
```

**Ошибка 2:** Использование `==` для сравнения строк
```csharp
string answer = Console.ReadLine();
if (answer == "да") // Так можно, но лучше:
```

**Рекомендуется:**
```csharp
if (answer.Equals("да", StringComparison.OrdinalIgnoreCase))
```

**Ошибка 3:** Конкатенация строк в цикле
```csharp
string result = "";
for (int i = 0; i < 10000; i++)
    result += i.ToString(); // Медленно! Создаётся 10000 объектов
```

**Решение:**
```csharp
StringBuilder result = new StringBuilder();
for (int i = 0; i < 10000; i++)
    result.Append(i);
string finalResult = result.ToString();
```

---

## **Операторы сравнения и логические операторы**

**Операторы сравнения (возвращают `bool`):**

| Оператор | Описание | Пример (результат) |
|----------|----------|-------------------|
| `==` | Равно | `5 == 5` → `true` |
| `!=` | Не равно | `5 != 3` → `true` |
| `>` | Больше | `5 > 3` → `true` |
| `<` | Меньше | `5 < 3` → `false` |
| `>=` | Больше или равно | `5 >= 5` → `true` |
| `<=` | Меньше или равно | `5 <= 3` → `false` |

**Логические операторы:**

| Оператор | Название | Описание | Пример (результат) |
|----------|----------|----------|-------------------|
| `&&` | И (AND) | Оба условия true | `(5 > 3) && (2 < 4)` → `true` |
| `\|\|` | ИЛИ (OR) | Хотя бы одно true | `(5 < 3) \|\| (2 < 4)` → `true` |
| `!` | НЕ (NOT) | Инверсия значения | `!(5 < 3)` → `true` |

---

## **Оператор выбора `switch` (классический)**

```csharp
int day = 3;
string dayName;

switch (day)
{
    case 1:
        dayName = "Понедельник";
        break;
    case 2:
        dayName = "Вторник";
        break;
    case 3:
        dayName = "Среда";
        break;
    default:
        dayName = "Неизвестный день";
        break;
}
Console.WriteLine(dayName);
```

**Важные правила `switch`:**
1. Каждый блок `case` должен заканчиваться оператором перехода: **`break`**
2. Блок **`default`** выполняется, если ни один `case` не подошёл
3. Можно использовать с `int`, `char`, `string` и другими типами

---

## **Новый синтаксис `switch` (C# 8.0+)**

Более компактный и выразительный синтаксис.

```csharp
int score = 85;
string grade = score switch
{
    >= 90 => "Отлично",
    >= 75 => "Хорошо",
    >= 60 => "Удовлетворительно",
    _ => "Неудовлетворительно" // _ - аналог default
};

Console.WriteLine($"Оценка: {grade}");
```

**Особенности нового синтаксиса:**
* Использует `=>` вместо `:`
* Возвращает значение (как выражение)
* `_` (underscore) – аналог `default`
* Не требует `break`
* Можно использовать сравнения (`>=`, `<`, etc.)

**Ещё пример:**
```csharp
string result = input switch
{
    "да" or "yes" => "Согласие",
    "нет" or "no" => "Отказ",
    _ => "Неизвестный ответ"
};
```

---

## **Цикл `for`**

Используется, когда известно точное количество повторений.

**Синтаксис:**
`for (инициализация; условие; итератор) { тело }`

```csharp
// Вывод чисел от 1 до 5
for (int i = 1; i <= 5; i++)
{
    Console.WriteLine($"Шаг {i}");
}
```

**Разбор синтаксиса:**
* `int i = 1` – инициализация счётчика (выполняется 1 раз)
* `i <= 5` – условие продолжения цикла
* `i++` – увеличение счётчика на 1 после каждой итерации

---

## **Циклы `while` и `do-while`**

**Цикл `while`** – проверяет условие **перед** каждой итерацией.
```csharp
int x = 0;
while (x < 3)
{
    Console.WriteLine(x);
    x++; // Не забудьте изменять условие!
}
```

**Цикл `do-while`** – проверяет условие **после** каждой итерации. Тело выполнится хотя бы 1 раз.
```csharp
string answer;
do
{
    Console.Write("Повторить? (да/нет): ");
    answer = Console.ReadLine();
} while (answer == "да");
```

---

## **Цикл `foreach` и оператор `break`**

**Цикл `foreach`** – для перебора всех элементов в коллекции.
```csharp
string[] colors = {"красный", "зеленый", "синий"};
foreach (string color in colors)
{
    Console.WriteLine(color); // Выведет каждый цвет
}
```

**Оператор `break`** – немедленно завершает цикл.
```csharp
for (int i = 0; i < 10; i++)
{
    if (i == 5)
    {
        break; // Выход из цикла при i = 5
    }
    Console.WriteLine(i); // 0,1,2,3,4
}
```

---

## **Оператор `continue`**

**Оператор `continue`** – прерывает текущую итерации и переходит к следующей.
```csharp
for (int i = 0; i < 5; i++)
{
    if (i == 2)
    {
        continue; // Пропускаем итерацию i = 2
    }
    Console.WriteLine(i); // 0,1,3,4
}
```

---

## **Типовые ошибки в циклах**

**Ошибка 1:** Бесконечный цикл `while`
```csharp
int x = 0;
while (x < 5) // x никогда не меняется
{
    Console.WriteLine(x);
    // Забыли x++ - цикл выполняется бесконечно!
}
```

**Правильно:**
```csharp
while (x < 5)
{
    Console.WriteLine(x);
    x++; // Увеличиваем счётчик
}
```

**Ошибка 2:** Изменение коллекции в `foreach`
```csharp
List<int> numbers = new List<int> {1, 2, 3};
foreach (int num in numbers)
{
    if (num == 2)
        numbers.Remove(num); // ОШИБКА! Нельзя изменять коллекцию в foreach
}
```

**Решение:**
```csharp
for (int i = 0; i < numbers.Count; i++)
{
    if (numbers[i] == 2)
    {
        numbers.RemoveAt(i);
        i--; // Корректируем индекс после удаления
    }
}
```

**Ошибка 3:** Использование `=` вместо `<=` в условии
```csharp
for (int i = 0; i = 5; i++) // ОШИБКА! = вместо < или <=
```

**Правильно:**
```csharp
for (int i = 0; i < 5; i++) // < для 0-4 или <= для 0-5
```

**Ошибка 4:** Вложенные циклы с одинаковыми именами переменных
```csharp
for (int i = 0; i < 3; i++)
{
    for (int i = 0; i < 3; i++) // ОШИБКА! Дублирование имени i
    {
        // ...
    }
}
```

**Правильно:**
```csharp
for (int i = 0; i < 3; i++)
{
    for (int j = 0; j < 3; j++) // Разные имена переменных
    {
        // ...
    }
}
```

---

## **Практический пример**

**Задача:** Подсчитать сумму положительных чисел, введённых пользователем.

```csharp
int sum = 0;

Console.WriteLine("Вводите числа. Для завершения введите 0.");

while (true)
{
    Console.Write("Введите число: ");
    string input = Console.ReadLine();
    
    if (!int.TryParse(input, out int number))
    {
        Console.WriteLine("Ошибка! Введите целое число.");
        continue; // Переходим к следующей итерации
    }
    
    if (number == 0)
        break; // Выход из цикла
        
    if (number > 0)
        sum += number; // Добавляем положительное число
}

Console.WriteLine($"Сумма положительных чисел: {sum}");
```

---

## **Разбор кода №1**

**Вопрос:** Что выведет эта программа?

```csharp
int x = 5;
int y = 3;

if (x > y && y > 0)
{
    Console.WriteLine("Условие 1 выполнено");
}

if (x < y || y > 0)
{
    Console.WriteLine("Условие 2 выполнено");
}

if (!(x == y))
{
    Console.WriteLine("Условие 3 выполнено");
}
```

---

## **Ответ к коду №1**

**Пошаговое выполнение:**
1. `x = 5`, `y = 3`
2. `x > y` → `true`, `y > 0` → `true`, `true && true` → `true`
   **Вывод:** `"Условие 1 выполнено"`
3. `x < y` → `false`, `y > 0` → `true`, `false || true` → `true`
   **Вывод:** `"Условие 2 выполнено"`
4. `x == y` → `false`, `!(false)` → `true`
   **Вывод:** `"Условие 3 выполнено"`

**Итоговый вывод:**
```
Условие 1 выполнено
Условие 2 выполнено
Условие 3 выполнено
```

---

## **Разбор кода №2**

**Вопрос:** Что выведет эта программа и почему?

```csharp
int sum = 0;
for (int i = 1; i <= 5; i++)
{
    if (i % 2 == 0)
    {
        continue;
    }
    sum += i;
    Console.WriteLine($"i={i}, sum={sum}");
}
Console.WriteLine($"Итог: {sum}");
```

---

## **Ответ к коду №2**

**Пошаговое выполнение:**
1. `i = 1`: `1 % 2 = 1` (не равно 0) → пропускаем `continue`
   `sum = 0 + 1 = 1`
   **Вывод:** `"i=1, sum=1"`
2. `i = 2`: `2 % 2 = 0` → срабатывает `continue`, пропускаем остаток цикла
3. `i = 3`: `3 % 2 = 1` → `sum = 1 + 3 = 4`
   **Вывод:** `"i=3, sum=4"`
4. `i = 4`: `4 % 2 = 0` → срабатывает `continue`
5. `i = 5`: `5 % 2 = 1` → `sum = 4 + 5 = 9`
   **Вывод:** `"i=5, sum=9"`

**Итоговый вывод:**
```
i=1, sum=1
i=3, sum=4
i=5, sum=9
Итог: 9
```

**Что делает программа:** Суммирует нечётные числа от 1 до 5

---

## **Что будет на следующей лекции?**

**Тема лекции 2: C#: Методы, массивы, основы ООП. Значимые и ссылочные типы. String**
**Цель:** Научить студентов организовывать код, работать с коллекциями данных, понимать разницу в хранении данных в памяти и эффективно работать с текстом.
**Содержание:**
1.  **Методы (функции):**
    *   Объявление, параметры, возвращаемые значения. Перегрузка методов.
    *   Параметры, передаваемые по значению и по ссылке (`ref`, `out`). Ключевое слово `in`.
    *   Понятие стека вызовов.
2.  **Массивы:** одномерные и многомерные (зубчатые/jagged и прямоугольные/rectangular). Объявление, инициализация, обход.
3.  **Критически важная теория: Значимые (Value) и ссылочные (Reference) типы.**
    *   **Значимые типы:** `int`, `double`, `bool`, `char`, `struct`. Хранятся в стеке (stack). Присваивание копирует значение.
    *   **Ссылочные типы:** `string`, `Array`, `class`, `interface`. Хранятся в управляемой куче (heap). Переменная содержит ссылку. Присваивание копирует ссылку.
    *   **Пример-иллюстрация:** изменение поля объекта, переданного в метод.
    *   Ключевое слово `null` для ссылочных типов. Nullable Value Types (`int?`).
4.  **Работа со строками (тип `string`):**
    *   `string` как **неизменяемый (immutable)** ссылочный тип. Последствия неизменяемости для производительности.
    *   Основные операции: конкатенация (`+`, `$"{a} text"`), сравнение (`==`, `Equals`, `String.Compare`), основные методы (`Length`, `Substring`, `IndexOf`, `Split`, `Join`, `Replace`, `ToUpper/ToLower`).
    *   **Введение в `StringBuilder` (класс `System.Text.StringBuilder`):**
        *   Зачем нужен? Проблема множественной конкатенации строк в цикле (создание множества объектов).
        *   Основные методы: `Append()`, `AppendLine()`, `Insert()`, `Remove()`, `Clear()`, `ToString()`.
        *   **Сравнение производительности:** наглядный пример конкатенации 10000 строк через `string` и через `StringBuilder`.
5.  **Введение в ООП (минимально необходимое для алгоритмов):**
    *   Класс как новый ссылочный тип данных. Объект — экземпляр класса.
    *   Поля (данные) и методы (поведение). Конструкторы.
    *   Модификаторы доступа (`public`, `private`).
6.  **Практический пример:** Создание простого класса (например, `Student`), демонстрация работы со списком студентов и формирование отчета о них с использованием `StringBuilder`.

---

## **Ключевые моменты лекции**

1. **Структура программы:** `Main` – точка входа, `{ }` – блоки кода
2. **Типы данных:** `int`, `double`, `bool`, `string`, `char`
3. **Приведение типов:** явное, неявное и класс `Convert`
4. **Управление потоком:**
   * `if-else` (с фигурными скобками!)
   * `switch` (классический и новый синтаксис)
   * `for`, `while`, `do-while`, `foreach`
   * `break` и `continue`
5. **Типовые ошибки новичков:**
   * Точка с запятой после `if`
   * Присваивание вместо сравнения
   * Бесконечные циклы
   * Изменение коллекций в `foreach`
6. **Безопасный ввод:** `int.TryParse()` вместо `int.Parse()`
7. **Вывод с интерполяцией:** `$"Текст {переменная}"`

**Дальнейшие шаги:**
Практика написания небольших программ с использованием всех изученных конструкций.